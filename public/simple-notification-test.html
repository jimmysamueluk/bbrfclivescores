<!DOCTYPE html>
<html>
<head>
    <title>Simple Notification Test</title>
    <style>
        body {
            font-family: Arial;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
        }
        button {
            background: #800020;
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 18px;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px 0;
            width: 100%;
        }
        button:hover {
            background: #a6002a;
        }
        .status {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            font-family: monospace;
        }
    </style>
</head>
<body>
    <h1>üîî Simple Notification Test</h1>

    <button onclick="test1()">Test 1: Request Permission</button>
    <button onclick="test2()">Test 2: Basic Notification</button>
    <button onclick="test3()">Test 3: Fancy Notification</button>

    <div class="status" id="status">
        Click Test 1 first to request permission...
    </div>

    <script>
        function log(msg) {
            const status = document.getElementById('status');
            status.innerHTML += '<br>' + msg;
        }

        async function test1() {
            log('Requesting notification permission...');
            const permission = await Notification.requestPermission();
            log('Permission: ' + permission);

            if (permission === 'granted') {
                log('‚úÖ Permission granted! Try Test 2 now.');
            } else {
                log('‚ùå Permission denied. Check browser settings.');
            }
        }

        function test2() {
            log('Sending basic notification...');

            if (Notification.permission !== 'granted') {
                log('‚ùå Permission not granted. Click Test 1 first.');
                return;
            }

            try {
                const notification = new Notification('Test Notification', {
                    body: 'This is a simple test notification. Can you see it?',
                    icon: 'https://via.placeholder.com/192/800020/ffffff?text=RFC'
                });

                log('‚úÖ Notification sent!');
                log('üëÄ CHECK YOUR SCREEN - You should see a notification pop up!');

                notification.onclick = function() {
                    log('Notification was clicked!');
                    window.focus();
                };
            } catch (error) {
                log('‚ùå Error: ' + error.message);
            }
        }

        function test3() {
            log('Sending fancy notification...');

            if (Notification.permission !== 'granted') {
                log('‚ùå Permission not granted. Click Test 1 first.');
                return;
            }

            try {
                const notification = new Notification('üèâ Bannockburn RFC', {
                    body: 'Try scored! Home Team leads 15-10',
                    icon: 'https://via.placeholder.com/192/800020/ffffff?text=RFC',
                    badge: 'https://via.placeholder.com/72/B8860B/ffffff?text=RFC',
                    tag: 'score-update',
                    requireInteraction: false,
                    vibrate: [200, 100, 200]
                });

                log('‚úÖ Notification sent!');
                log('üëÄ CHECK YOUR SCREEN for a rugby score notification!');

                notification.onclick = function() {
                    log('Notification was clicked!');
                    window.focus();
                };
            } catch (error) {
                log('‚ùå Error: ' + error.message);
            }
        }
    </script>
</body>
</html>
